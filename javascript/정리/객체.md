# 객체(Object)

객체는 자바스크립트를 잘 다루기 위해 꼭 알아야 할 `데이터`
`데이터타입` 원시형 객체형으로 두 가지를 분리하여 설명한 적이 있음

- 원시형

  - 문자형
  - 숫자형
  - 불리언
  - undefined
  - null
  - ...

- 객체형 (참조형)
  - 배열
  - 객체
  - 함수
  - ...

## 객체 어떻게 생겼나

객체를 만드는 방법 (문법)

방법 1 : new 키워드를 사용해서 객체 생성 => 객체 생성자 문법

```js
const user = new Object();

console.log(user); // {}
```

방법 2 : '{}' 활용해서 객체를 생성하는 방법 => 객체 리터럴 문법

```js
const user1 = {};

console.log(user1); // {}
```

변수 하나에 여러가지 데이터를 담고 싶을때 사용하는게 `배열`이다.

리스트

변수 하나에 여러가지 데이터를 담고 싶을때 사용하는게 `객체`이다.

사물 상세정보

왜 쓰는가?

반 저체 학생리스트만 담고 싶을 때는 배열로 가능

학생리스트에 이름과 나이를 담을 때는 객체가 효과적

한 사람에 대한 정보를 담을 때는 객체 특정 리스트를 만들때는 배열

## 배열

```js
const students = ["곽인구", "강찬수", "김건영", "김성희", "김주형"];
```

배열 - 에어컨 리스트

객체 - 에어컨 상세정보

배열에 학생 리스트를 담는다면 총 학생 숫자도 구하기 쉬움

하나의 변수에 내용이 담겨 있으니 관리가 쉬움

그 학생 한명의 상세정보를 저장하기 위해서는 배열로는 한계가 느껴진다

학생 한명의 상세정보를 저장하기 위해서 사용하는 `데이터타입`이 바로 `객체`이다.

객체는 사람, 주문, 에어컨 등 실제 존재하는 개체를 표현할 때 적합함

```js
속성: 속성값;
const Person = {
  name: "곽인구",
  age: 32,
};

console.log(Person);
```

`css`에서 많이 본 문법

변수 `Person` 객체 안에서 `name`이라는 속성에는 `곽인구`라는 값을 입력함

`age` 속성에는 `32` 값을 입력함

값이라는 공간이 중요함

값이면 `데이터타입` 어떤 것이든 들어올 수 있다

`string, number, boolean, function, array, object ...`

값에는 어떠한 데이터타입을 넣어도 됨

객체 또한 변수 하나에 여러가지 값이 있다보니 특정 값만 뽑아올 수 있어야 함

객체 안에 있는 `name`을 console.log로 찍고 싶으면

`점 표기법`

```js
console.log(Person.name);
```

console.log를 보면

console이라는 객체 안에 log: function () {}이 들어있다 볼 수 있음

console은 객체이고 log는 함수인걸 알 수 있다

속성에 특수문자가 들어갈 경우

띄어쓰기, -, \_, $ ...

속성에 \_, 띄어쓰기는 많이씀

이럴 경우 양쪽끝에 '',"",``를 넣음

대부분 큰 따움표를 사용

```js
const user = {
  name: "곽인구",
  age: 32,
  "Content-type": "text/javascript",
  "Content type2": "text/javascript2",
};
```

이 경우 점 표기법을 사용할 수 없음

이때 속성 값을 뽑고 싶다면

`점 표기법`이 아닌 `[] 대괄호 표기법`을 사용한다

```js
console.log(user["Content-type"]);
console.log(user["Content type2"]);
```

응용방법

"Content-type" 내용을 담고있는 변수를 만든 다음 변수를 넣어주어도 됨

```js
let contentType = "Content-type";
console.log(user[contentType]);
```

객체 안에 있는 `속성 이름`을 알아내는 방법

### in 연산자

```js
console.log("name" in user); // boolean : true
console.log("subName" in user); // false
```

### for in 문

객체내용을 반복문을 통해 안에 있는 정보를 다 보고 싶을때

객체안의 key 값 반환

```js
for (let key in 객체) {
}
```

```js
for (let key in user) {
  console.log(key);
  console.log(user[key]);
}
```

```js
// 속성 추가
user.height = 180;
console.log(user);
```

```js
// 속성 변경
user.height = 170;
console.log(user);
```

객체 자체를 바꾸는 것은 불가능

```js
user = 10; // error 발생
```

```js
console.log({} === {}); // 메모리 주소가 다르기 때문에 같지 않음
```

```js
const obj = {
  name: "곽인구",
  age: 32,
  sizes: {
    height: 180,
    weight: 80,
  },
};

const clone = obj;
console.log(clone === obj); // 메모리 주소가 같기 때문에 같음
```

배열도 같은 원리이다

원시 데이터는 하나의 값에 하나의 메모리 주소가 들어감

### 다른 메모리 주소로 다른 객체 복사하기

객체를 복사하고 싶은데 참조 형태로 복사하고 싶지는 않을때

```js
const clone = {};

for (let key in obj) {
  clone[key] = obj[key];
}

console.log(clone);
console.log(clone === obj); // false
```

### 다른 메모리 주소로 다른 객체 복사하기 (es6에서 생긴 문법)

#### spread operator(스프레드 연산자) 전개 연산자

`...`

...은 객체 리터럴을 빼고 안에 있는 값만 가져오겠다는 의미

```js
const a = { obj }; // 객체 자체가 들어감

const clone = { ...obj }; // 내용만 복사

console.log(a);
console.log(clone);
console.log("clone === obj");
console.log(clone === obj); // false

console.log(obj.sizes === clone.sizes); // true
```

객체 안에 참조형 데이터가 있을 경우에는 다음과 같이 해 줘야 함

```js
const inner_clone = { ...obj, sizes: { ...obj.sizes } };

console.log(obj.sizes === inner_clone.sizes); // false

console.log("obj === inner_clone");
console.log(obj === inner_clone);
clone.sizes.height = 190;
console.log(obj.sizes.height); // 190
console.log(clone.sizes.height); // 190
console.log(inner_clone.sizes.height); // 180
```

# 객체

## 메서드(method)

함수 = 메서드

함수

```js
function showMesage() {}
const showMesage = function () {}
const showMesage = () => {}
위와 같은 걸 함수라고 표현함
```

메서드

객체 안에 들어가 있는 함수

속성값에는 어떠한 값이라도 들어갈 수 있다

속성값에는 함수도 들어 갈 수 있다

```js
const user = {
  name: "곽인구",
  sum: function (a, b) {
    return a + b;
  },
};

// 메서드 사용
user.sum(1, 2);
```

객체안에 특수한 예약어가 존재

## this

```js
const user = {
name: "곽 인구",
firstName: "",
lastName: "",
age: 32,
sayHi: function () {
console.log(this.name + "님 안녕하세요.");
// console.log(user.name + "님 안녕하세요."); // 위랑 같음
},
// getter - 객체안에 있는 값을 가져오는 행위?
setFirstName: function () {
const arr = this.name.split(" ")[1];
// this.firstName = arr[1];
this.firstName = arr;
},
setLastName: function () {
const arr = this.name.split(" ")[0];
this.lastName = arr;
},
setName: function () {
const arr = this.name.split(" ");
this.lastName = arr[0];
this.firstName = arr[1];
},
// setter - 객체안에 있는 값을 변경하는 행위?
};

console.log(user);
user.setFirstName();
console.log(user);

this는 . 앞에 있는 user 객체를 말한다
this는 어디서 부터 실행이 되었는가가 중요함
user.sayHi();
```

곽인구

첫글자 하나가 lastName

두번째 부터 끝까지가 firstName

글자를 자를 수 있어야 함

메서드를 많이 알아야 함

```js
let str = " 자바 스크립트 ";
// String
console.log(str.length); // str의 길이 (띄어쓰기도 글자수로 침) 9
console.log(str);
console.log(str.trim()); // 앞 뒤 공백 제거
```

```js
// 찾아바꾸기
메서드 사용 시 각각 어떤 인자값이 들어가는 지 중요함
string.replace(찾을단어, 바꿀값);
console.log(str.replace("스크립트", "")); // 새로운 값으로 return 해줌
let a = str.replace("스크립트", "");
console.log(a.length); // 5
a = a.trim();
console.log(a.length); // 2
```

replace 메서드 해석
(method) String.replace

(searchValue: string | RegExp, // string이나 정규표현식을 사용 할 수 있다

replaceValue: string) // string을 사용해라

: string // return 값이 string이다

```js
// 구분자를 통해서 글자를 나누고 싶을때 사용하는 메서드
// let x = "1.2.3.4.5.6.7.8.9";
let y = [1, 2, 3, 4, 5, 6, 7, 8, 9];
let x = "1.2.3.4.5.6.7.8.9";
const y = x.split(".").map((x) => +x);
console.log(y);
```

(method) String.split(separator: string | RegExp,

limit? (?는 생략가능이라는 의미): number | undefined)

: string[] => string을 배열안에 담아서 반환해 준다

```js
let nm = "곽 인구";
let arr = nm.split(" ");
console.log(nm);
console.log(arr.length);
console.log(arr[0]); // 곽
console.log(arr[1]); // 인구
```

# 정리

객체 안의 함수는 메서드다!

객체안의 함수를 실행 시킬 수 있다

객체안의 함수는 this라는 예약어가 있다

this는 . 표기법 앞에 있는 객체를 가리킨다

# getter와 setter

get, set이라는 키워드가 숨겨져 있음

```js
const user = {
  name: "",
  lastName: "",
  firstName: "",
  // setter
  set name(value) {},
  // getter
  get name() {},
};
```

객체는 비어있는 경우가 많음

있다면 꼭 필요한 정보만 들어 있음

```js
user.name = "곽인구";
console.log(user); // {name: '곽인구', lastName: '', firstName: ''}
```

// name은 user객체 내부에 이미 존재해서 setter와 getter로 사용하면 오류가 날 수 있다

```js
const user = {
name: "",
lastName: "",
firstName: "",
// setter
set _name(value) {
console.log(value);
},
// // getter
get _name() {},
};

user._name = "곽인구";
console.log(user); // 곽인구
{lastName: '', firstName: ''}
```

```js
const user = {
  name: "",
  lastName: "",
  firstName: "",
  // setter
  set _name(value) {
    const arr = value.split("");
    this.name = value;
    this.lastName = arr[0];
    this.firstName = arr[1] + arr[2];
  },
  // getter
  get _name() {
    return this.firstName + " " + this.lastName;
  },
};

user._name = "곽인구";
console.log(user);
// {name: '곽인구', lastName: '곽', firstName: '인구'}
console.log(user._name); // 인구 곽
```

setter를 활용하면

name이라는 값에 넣기전에 한 번 조작이 가능함

\_name으로 값만 입력해주면 알아서 채워지게 됨

setter 객체안에 속성값을 채워 넣을때 사용하는 함수

대입연산자가 없으면 getter

대입연산자가 있으면 setter 가 호출된다

getter

전화번호를 저장할때 사용함 010-1234-5678

setter => 대입연산자 사용시 setter함수 출력

getter => 대입연산자 없이 사용시 getter함수 출력
/\*
getter 메서드는 obj.propName을 사용해 프로퍼티를 읽으려고 할 때 실행되고,

setter 메서드는 obj.propName = value으로 프로퍼티에 값을 할당하려 할 때 실행됩니다.

https://ko.javascript.info/property-accessors
\*/

# 생성자 함수

객체 틀을 만드는 함수

객체의 틀을 만드는 방법 1

객체리터럴 사용

가상 - 붕어빵 틀?

```js
function user(_name, _lastName, _firstName, _age) {
  return {
    name: _name,
    lastName: _lastName,
    firstName: _firstName,
    age: _age,
  };
}
```

실체 - 실제로 메모리에 적재가 된것

```js
const ingoo = user("곽인구", "곽", "인구", 32);
// 이런 형태로 같은 객체를 여러가지 만들 수 있음
const 준영 = user("장준영", "장", "준영", 28);
// console.log(ingoo);
const 배열 = [ingoo, 준영];
console.log(배열);
console.log(ingoo === 준영); // false
```

다른 메모리 주소를 가지고 있다

값을 변경해도 다른 객체에 영향을 주지 않는다

객체를 찍어내는 함수

생성자 함수

생성자 함수 이름은 첫 글자를 대문자로 쓰는게 좋다

```js
function User(name, age) {
  // this = {}
  this.name = name;
  this.age = age;
  // return this
}
```

인스턴스 생성했어? =>

너 붕어빵틀로 붕어빵 만들었어?

붕어빵틀 => 생성자 함수 붕어빵 => 생성자 함수를 사용해 만들어진 결과

```js
const 인구 = new User("곽인구", 32);
const 준영 = new User("장준영", 28);
console.log(인구);
console.log(인구 === 준영); // false
준영.age -= 2;
console.log(준영);
console.log(인구);
```

만드는 이유

다른 메모리 주소를 가진 새로운 객체를 생성하기 위해서

# class 문법

class는 객체를 만들어주기 위한 틀

객체를 찍어내는 틀

```js
class User {
  //생성자
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }
}
```

사용하기 위해서 객체를 만들어준다

메모리에 실제 데이터를 넣었다 인스턴스화 했다

```js
const 인구 = new User("곽인구", 32);
const 준영 = new User("장준영", 28);
```

객체지향

객체로 돌아가는 코드를 만들겠다
